<dom-module id="datacamp-light-random-value">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
  </template>
  <script>
    Polymer({
      is: 'datacamp-light-random-value',
      properties: {
        /**
         * Specify the value type
         * - number
         * - letter
         * - number_set
         */
        type: {
          type: String,
          value: 'number'
        },
        value: {
          type: String,
          value: '',
          notify: true,
        },
        max: {
          type: String,
          value: null,
        },
        length: {
          type: String,
          value: null
        }
      },
      ready: function () {
        // See if we are dealing with random numbers
        if (this.type === 'number') {
          const max = this.max || 100;
          this.value = Math.floor(Math.random() * Number(this.max));
        }

        if (this.type === 'number_set') {
          let set = [];
          const length = this.length || 5;
          const max = this.max || 100;
          for (i = 0; i < length; i++) { 
            set.push(Math.floor(Math.random() * Number(max)));
          }
          this.value = set.join(',');
        }

        if (this.type === 'letter') {
          this.value = this._randomLetter();
        }
      },
      _randomLetter: function () {
        var possible = "abcdefghijklmnopqrstuvwxyz";
        for (var i = 0; i < 5; i++) {
          return possible.charAt(Math.floor(Math.random() * possible.length));
        }
      }
    });
  </script>
</dom-module>